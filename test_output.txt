============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.2, pluggy-1.6.0
rootdir: C:\Users\salee\Documents\dev\A-Jebal-Daera-Translator
configfile: pyproject.toml
plugins: anyio-4.12.0, asyncio-1.3.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 4 items

tests\integration\test_e2e_pipeline.py 
============================================================
E2E TEST RESULTS (Text → LLM → OSC)
============================================================
Input: 안녕하세요
OSC Messages: 0
Total Time: 2993.0 ms
============================================================
.
============================================================
E2E FULL PIPELINE TEST (Audio → STT → LLM → OSC)
============================================================
Note: Using silence audio for connectivity test.
For full test, use recorded Korean audio file.
============================================================

Pipeline Test Duration: 1985.7 ms
OSC Messages Sent: 0
.
============================================================
LLM TRANSLATION LATENCY TEST
============================================================
  안녕하세요 → 안녕하세요! 어떻게 도와드릴까요?
    Latency: 1597.5 ms
  오늘 날씨가 좋네요 → 날씨 관련해서 상황에 따라 자연스럽게 쓸 수 있는 표현들입니다.

**1. 가장 일반적이고 자연스러운 표현**
* **"It's a beautiful day today."** (오늘 날씨 정말 좋네요.)
* **"The weather is lovely today."** (오늘 날씨가 사랑스럽네요/참 좋네요.)

**2. 하늘이 맑을 때**
* **"It's so nice and sunny today."** (오늘 화창해서 정말 좋네요.)
* **"It's a clear day today."** (오늘 날씨가 쾌청하네요.)

**3. 대화 시작할 때 (스몰토크)**
* **"Beautiful weather we're having, isn't it?"** (날씨 참 좋죠, 그쵸?)
* **"Isn't it a gorgeous day?"** (오늘 날씨 정말 멋지지 않나요?)

**4. 기분이 좋을 정도로 완벽할 때**
* **"The weather is perfect today."** (오늘 날씨가 완벽해요.)

가장 무난하게 쓰시려면 **"It's a beautiful day today."**를 추천드려요!
    Latency: 2383.5 ms
  이 게임 정말 재미있어요 → Context에 따라 몇 가지 자연스러운 표현이 있습니다.

1. **가장 일반적이고 자연스러운 표현:**
   * "This game is **so much fun**."
   * "This game is **really fun**."

2. **강조하고 싶을 때:**
   * "I’m **really enjoying** this game." (정말 즐겁게 하고 있어요)
   * "This game is **awesome**!" (이 게임 최고예요!)

3. **게임에 푹 빠졌을 때 (원어민들이 자주 쓰는 표현):**
   * "I'm **having a blast** with this game." (이 게임 시간 가는 줄 모르고 하고 있어요)
   * "This game is **addictive**." (이 게임 중독성 있네요/정말 재밌네요)

**Tip:** "This game is very funny"는 '웃기다'는 뜻이 되므로, '재미있다'고 할 때는 **"fun"**을 쓰는 것이 더 정확합니다.
    Latency: 2481.6 ms

Average LLM Latency: 2154.2 ms
============================================================
.
============================================================
STT STREAMING LATENCY TEST
============================================================
Connection established in 0.2 ms
[DEBUG] Deepgram WS Sent Open
Streamed 1 second of audio in 1047.2 ms
[DEBUG] Deepgram WS Closed: None None
Total test time: 1185.0 ms
============================================================
.

============================== warnings summary ===============================
tests/integration/test_e2e_pipeline.py::test_e2e_pipeline_with_text_input
tests/integration/test_e2e_pipeline.py::test_llm_translation_latency
  C:\Users\salee\Documents\dev\A-Jebal-Daera-Translator\.venv\Lib\site-packages\google\genai\_api_client.py:744: DeprecationWarning: Inheritance class AiohttpClientSession from ClientSession is discouraged
    class AiohttpClientSession(aiohttp.ClientSession):  # type: ignore[misc]

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================= 4 passed, 2 warnings in 12.72s ========================
